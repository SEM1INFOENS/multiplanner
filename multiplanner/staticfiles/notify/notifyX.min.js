function getCookie(t){var e=null;if(document.cookie&&""!=document.cookie)for(var o=document.cookie.split(";"),i=0;i<o.length;i++){var c=jQuery.trim(o[i]);if(c.substring(0,t.length+1)==t+"="){e=decodeURIComponent(c.substring(t.length+1));break}}return e}function csrfSafeMethod(t){return/^(GET|HEAD|OPTIONS|TRACE)$/.test(t)}function sameOrigin(t){var e=document.location.host,o=document.location.protocol,i="//"+e,c=o+i;return t==c||t.slice(0,c.length+1)==c+"/"||t==i||t.slice(0,i.length+1)==i+"/"||!/^(\/\/|http:|https:).*/.test(t)}var updateNotificationUrl,markNotificationUrl,markAllNotificationUrl,deleteNotificationUrl,nfListClassSelector,nfClassSelector,nfBoxListClassSelector,nfBoxClassSelector,nfListSelector=nfBoxListClassSelector+", "+nfListClassSelector,nfSelector=nfClassSelector+", "+nfBoxClassSelector,markNotificationSelector,markAllNotificationSelector,deleteNotificationSelector,readNotificationClass,unreadNotificationClass,markSuccess,markAllSuccess,deleteSuccess,updateSuccess,notificationUpdateTimeInterval,csrftoken=getCookie("csrftoken");$.ajaxSetup({beforeSend:function(t,e){!csrfSafeMethod(e.type)&&sameOrigin(e.url)&&t.setRequestHeader("X-CSRFToken",csrftoken)}}),$(document).ready(function(){$(nfListSelector).delegate(markNotificationSelector,"click",function(){var t=$(this),e=t.attr("data-mark-action"),o={id:t.attr("data-id"),action:e,csrftoken:csrftoken};$.ajax({type:"POST",url:markNotificationUrl,data:o,success:function(e){markSuccess(e,t)}})})}),$(document).ready(function(){$(markAllNotificationSelector).on("click",function(){var t={action:$(this).attr("data-mark-action"),csrftoken:csrftoken};$.ajax({type:"POST",url:markAllNotificationUrl,data:t,success:function(t){markAllSuccess(t)}})})}),$(document).ready(function(){$(nfListSelector).delegate(deleteNotificationSelector,"click",function(){var t=$(this),e={id:t.attr("data-id"),csrftoken:csrftoken};$.ajax({type:"POST",url:deleteNotificationUrl,data:e,success:function(e){deleteSuccess(e,t)}})})}),$(document).ready(function t(){var e=$(nfBoxListClassSelector),o=e.children().first().attr("data-nf-id")||"1";return o&&0!=e.length?void $.ajax({type:"GET",url:updateNotificationUrl+"?flag="+o,success:function(t){updateSuccess(t)},complete:function(){setTimeout(t,notificationUpdateTimeInterval)}}):(console.log("Notity improperly configured. No data-nf-id was found."),void console.log("  Make sure you have a container element with '"+nfBoxListClassSelector+"' as css class."))});
