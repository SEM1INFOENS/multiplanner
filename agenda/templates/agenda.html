{%extends "base_template_agenda.html" %}
{% load agenda_filters %}

{% block content %}


<!-- "/agenda/event?v={{ event.id }}" -->



<h2>Your Agenda</h2>

You can <a href="/agenda/calendar.ics?username={{ username }}">download your agenda (ICS)</a> or suscribe to it.
To suscribe, go in your calendar manager and choose to suscribe to the URL <a href="{{ request.build_absolute_uri }}calendar.ics?username={{ username }}">{{ request.build_absolute_uri }}calendar.ics?username={{ username }}</a>.

<br><br>

<a href="{% url 'new-event' %}">create a new event <i class="far fa-calendar-plus"></i></a>

{% if not events_admin and not events_attendees and not events_invited and not events_past %}
<p><i>Your agenda is empty</i></p>
{% else %}
{% if events_admin %}
<h3>Events you manage</h3>
<ul class="list-group list-group-flush">
  {% for event in events_admin %}
  <li class="list-group-item">{{ event|display_event_logo }}</li>
  {% endfor %}
</ul>
{% endif %}

{% if events_invited %}
<h3>Events you are invited to</h3>
<ul class="list-group list-group-flush">
  {% for event in events_invited %}
  <li class="list-group-item">{{ event|display_event_logo }}</li>
  {% endfor %}
</ul>
{% endif %}

{% if events_attendees %}
<h3>Events you will attend</h3>
<ul class="list-group list-group-flush">
  {% for event in events_attendees %}
  <li class="list-group-item">{{ event|display_event_logo }}</li>
  {% endfor %}
</ul>
{% endif %}

{% if events_past %}
<h3>Passed events</h3>
<ul class="list-group list-group-flush">
  {% for event in events_past %}
  <li class="list-group-item">{{ event|display_event_logo }}</li>
  {% endfor %}
</ul>
{% endif %}
{% endif %}


{% endblock %}
